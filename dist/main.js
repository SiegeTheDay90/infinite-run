(()=>{"use strict";var t={800:(t,i,e)=>{e.d(i,{Z:()=>r});var s=e(81),n=e.n(s),o=e(645),a=e.n(o)()(n());a.push([t.id,'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:0}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}body{width:100%}html{background-color:#afb3c9}body{width:fit-content;max-width:1200px;margin:0 auto;text-align:center}#main{width:100%;display:flex;padding:20px 20px 20px 40px;border-radius:20px;background-color:#4d4f59;height:50vh;justify-content:space-around}#canvas-container{position:relative;width:fit-content;height:fit-content;text-align:left;align-self:center}#game{position:absolute;top:0;left:0}#right{display:flex;flex-direction:column;justify-content:space-around;width:25%}#right a{color:#d53200;display:flex;flex-direction:column;align-items:center;text-decoration:none}#right a:visited{color:#d58a00}#right a:first-child{animation-duration:4s;animation-name:shake;animation-iteration-count:infinite;animation-direction:normal}@keyframes shake{0%{transform:rotate(1deg)}1%{transform:rotate(-1deg)}2%{transform:rotate(1deg)}3%{transform:rotate(-1deg)}4%{transform:rotate(1deg)}5%{transform:rotate(-1deg)}6%{transform:scale(1, 1)}}#right a p{display:block;margin-top:10px;font-size:larger}#right img{width:15vw;max-width:225px}h2{display:block;font-size:larger;height:20px}header{display:flex;justify-content:space-around;font-size:40px;align-items:center;min-height:50px;margin-bottom:2vh}header a{text-decoration:none;color:#d53200;transition:.2s}header a:hover{color:#d58a00}',""]);const r=a},645:t=>{t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var e="",s=void 0!==i[5];return i[4]&&(e+="@supports (".concat(i[4],") {")),i[2]&&(e+="@media ".concat(i[2]," {")),s&&(e+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),e+=t(i),s&&(e+="}"),i[2]&&(e+="}"),i[4]&&(e+="}"),e})).join("")},i.i=function(t,e,s,n,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(s)for(var r=0;r<this.length;r++){var h=this[r][0];null!=h&&(a[h]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);s&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),i.push(d))}},i}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var i=[];function e(t){for(var e=-1,s=0;s<i.length;s++)if(i[s].identifier===t){e=s;break}return e}function s(t,s){for(var o={},a=[],r=0;r<t.length;r++){var h=t[r],c=s.base?h[0]+s.base:h[0],d=o[c]||0,l="".concat(c," ").concat(d);o[c]=d+1;var m=e(l),p={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==m)i[m].references++,i[m].updater(p);else{var u=n(p,s);s.byIndex=r,i.splice(r,0,{identifier:l,updater:u,references:1})}a.push(l)}return a}function n(t,i){var e=i.domAPI(i);return e.update(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap&&i.supports===t.supports&&i.layer===t.layer)return;e.update(t=i)}else e.remove()}}t.exports=function(t,n){var o=s(t=t||[],n=n||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var r=e(o[a]);i[r].references--}for(var h=s(t,n),c=0;c<o.length;c++){var d=e(o[c]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}o=h}}},569:t=>{var i={};t.exports=function(t,e){var s=function(t){if(void 0===i[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}i[t]=e}return i[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}},216:t=>{t.exports=function(t){var i=document.createElement("style");return t.setAttributes(i,t.attributes),t.insert(i,t.options),i}},565:(t,i,e)=>{t.exports=function(t){var i=e.nc;i&&t.setAttribute("nonce",i)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var i=t.insertStyleElement(t);return{update:function(e){!function(t,i,e){var s="";e.supports&&(s+="@supports (".concat(e.supports,") {")),e.media&&(s+="@media ".concat(e.media," {"));var n=void 0!==e.layer;n&&(s+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),s+=e.css,n&&(s+="}"),e.media&&(s+="}"),e.supports&&(s+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),i.styleTagTransform(s,t,i.options)}(i,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)}}}},589:t=>{t.exports=function(t,i){if(i.styleSheet)i.styleSheet.cssText=t;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(t))}}}},i={};function e(s){var n=i[s];if(void 0!==n)return n.exports;var o=i[s]={id:s,exports:{}};return t[s](o,o.exports,e),o.exports}e.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},e.d=(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.nc=void 0,(()=>{function t(t,i){let e=[i[0][0],i[1][0]],s=[i[0][1],i[3][1]];return t.some((t=>{let[i,n]=t;return e[0]<=i&&i<=e[1]&&s[0]<=n&&n<=s[1]}))}const i=class{constructor(t,i,e=[0,0],s=[0,0],n=[10,10]){this.position=[e[0]*i.scale,e[1]*i.scale],this.dimensions=[n[0]*i.scale,n[1]*i.scale],this.velocity=s,this.context=t,this.game=i}move(t){this.position=[this.position[0]+this.velocity[0]*t*this.game.scale,this.position[1]+this.velocity[1]*t*this.game.scale]}draw(t="red"){this.context.fillStyle=t,this.context.fillRect(...this.position,...this.dimensions)}destroy(){this.game.objects.delete(this)}collisionBox(){return[this.position,[this.position[0]+this.dimensions[0],this.position[1]],[this.position[0]+this.dimensions[0],this.position[1]+this.dimensions[1]],[this.position[0],this.position[1]+this.dimensions[1]]]}collides(i){let e=this.collisionBox(),s=i.collisionBox();return t(e,s)||t(s,e)}},s=class extends i{constructor(t,i,e,s,n=[0,0]){super(t,i,e,n,[s,10])}move(t){super.move(t),this.position[0]<0-this.dimensions[0]-50&&this.destroy()}draw(t="red"){this.context.fillStyle=t,this.context.fillRect(...this.position,this.dimensions[0],this.dimensions[1])}destroy(){this.game.platforms.delete(this)}},n=class extends s{constructor(t,i,e,s=2,n=[0,0]){super(t,i,e,s,n),this.sprite=new Image,this.sprite.src="./building.png"}draw(){this.context.drawImage(this.sprite,this.position[0]-5,this.position[1]-5,this.dimensions[0]+10,this.game.dimensions[1])}},o=[{title:"stepUp",sequence:[{y:0,width:500,timing:5e3,velocity:[-9,0]},{y:-60,width:500,timing:5e3,velocity:[-9,0]},{y:-120,width:500,timing:5e3,velocity:[-9,0]}]},{title:"straightHop",sequence:[{y:0,width:500,timing:5500,velocity:[-9,0]},{y:0,width:500,timing:5500,velocity:[-9,0]}]},{title:"saddle",sequence:[{y:20,width:500,timing:5500,velocity:[-9,0]},{y:-40,width:500,timing:5500,velocity:[-9,0]},{y:20,width:500,timing:6500,velocity:[-9,0]}]},{title:"dip",sequence:[{y:-60,width:500,timing:6e3,velocity:[-9,0]},{y:20,width:500,timing:4500,velocity:[-9,0]},{y:-60,width:500,timing:6e3,velocity:[-9,0]}]}],a=class extends i{constructor(t,i){super(t,i,[i.dimensions[0]/4,5],[0,0],[60*i.scale,60*i.scale]),this.addListeners(),this.standing=!1,this.footing=void 0,this.spriteSheet=new Image,this.spriteSheet.src="./runner.png",this.spriteState=0,this.death=!1,this.keysDown={},this.coolDown={}}move(t){this.standing?(this.velocity=[.995*this.velocity[0],this.footing.velocity[0]],this.velocity[1]=0):this.velocity=[this.velocity[0],Math.min(this.velocity[1]+.4,16)],this.velocity[1]>=0&&Array.from(this.game.platforms).some((t=>t!==this&&this.collides(t)&&(this.footing=t)))?this.standing||(this.impact=Math.floor(this.velocity[1]/4),this.velocity[0]+=.2*this.footing.velocity[0]*this.impact,this.velocity[0]<this.footing.velocity[0]&&(this.velocity[0]=this.footing.velocity[0]),this.rolling=!0,setTimeout((()=>{this.coolDown.jump=!1,this.rolling=!1}),200*this.impact),this.velocity[1]=0,this.standing=!0,this.position[1]=this.footing.position[1]-this.dimensions[0]+5*this.game.scale):(this.footing=void 0,this.standing=!1),this.position[0]/this.game.dimensions[0]<.9&&this.velocity[0]>0?(this.position[0],this.velocity[0],this.game.scale):this.position[0],this.position=[this.position[0]+this.velocity[0]*t*this.game.scale,this.position[1]+this.velocity[1]*t*this.game.scale],this.position[0]<=0&&(this.position[0]=0),this.position[1]>this.game.dimensions[1]&&(this.death=!0,this.game.gameOver=!0)}spriteArgs(){this.spriteState=(this.spriteState+1)%48;let t=[40*Math.floor(this.spriteState/6),1];const i=this.velocity[0]-(this.footing?.velocity[0]||0);return this.rolling?t=[200+40*Math.floor(this.spriteState/16),80]:!this.standing&&this.velocity[1]<-4?t=[2,80]:!this.standing&&this.velocity[1]<-1?t=[42,80]:!this.standing&&this.velocity[1]<=1?t=[82,80]:!this.standing&&this.velocity[1]>5?t=[162,80]:!this.standing&&this.velocity[1]>1?t=[122,80]:this.standing&&Math.abs(i)<1?(t=[202,80],this.velocity[0]=this.footing.velocity[0]):this.standing&&i>-2&&(t[1]=41),[...t,39,39,this.position[0],this.position[1]-4,...this.dimensions]}draw(){this.context.drawImage(this.spriteSheet,...this.spriteArgs())}addListeners(){document.addEventListener("keydown",function(t){" "==t.key&&this.standing?(t.preventDefault(),this.jump(),this.keysDown[t.key]||=setInterval(this.jump.bind(this),300)):"ArrowRight"==t.key?(t.preventDefault(),this.keysDown[t.key]||=setInterval(function(){this.standing&&(this.velocity=[Math.min(1.2*(this.velocity[0]>0?this.velocity[0]:1),8),this.velocity[1]])}.bind(this),100)):"ArrowLeft"==t.key&&(t.preventDefault(),this.keysDown[t.key]||=setInterval(function(){this.standing&&(this.velocity=[this.footing.velocity[0],this.velocity[1]])}.bind(this),200))}.bind(this)),document.addEventListener("keyup",function(t){clearInterval(this.keysDown[t.key]),delete this.keysDown[t.key]}.bind(this))}jump(){this.coolDown.jump||(this.position=[this.position[0],this.position[1]-7],this.velocity=[this.velocity[0],-20],this.coolDown.jump=!0,this.standing=!1,this.footing=void 0)}collisionBox(){return[[this.position[0],this.position[1]+.9*this.dimensions[1]],[this.position[0]+this.dimensions[0],this.position[1]+.9*this.dimensions[1]],[this.position[0]+this.dimensions[0],this.position[1]+this.dimensions[1]],[this.position[0],this.position[1]+this.dimensions[1]]]}},r=class extends i{constructor(t,i,e,s=[-1,0]){const n=.7*i.scale/Math.abs(1/s[0]);super(t,i,e,s,[n,n])}move(t){super.move(t),this.position[0]<0-this.dimensions[0]-50&&this.destroy()}draw(){super.draw("white")}destroy(){this.game.objects.delete(this)}};async function h(t){return new Promise((i=>setTimeout(i,t)))}var c=e(379),d=e.n(c),l=e(795),m=e.n(l),p=e(569),u=e.n(p),f=e(565),g=e.n(f),v=e(216),y=e.n(v),w=e(589),b=e.n(w),x=e(800),S={};S.styleTagTransform=b(),S.setAttributes=g(),S.insert=u().bind(null,"head"),S.domAPI=m(),S.insertStyleElement=y(),d()(x.Z,S),x.Z&&x.Z.locals&&x.Z.locals,document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("game"),i=document.getElementById("background"),e=document.getElementById("canvas-container"),c={background:i.getContext("2d"),game:t.getContext("2d")},d=window.innerWidth;t.width=Math.min(.7*d,800),t.height=.5*t.width,i.width=Math.min(.7*d,800),i.height=.5*t.width,e.style.width=t.width+2,e.style.height=t.height+2,new class{constructor(t,i){this.gameContext=t.game,this.bgContext=t.background,this.dimensions=i,this.scale=i[0]/800,this.logo=new Image,this.logo.src="./logo.png",this.started=!1,this.gameOver=!1,this.spawnerId,this.score=0,this.objects=new Set,this.platforms=new Set,this.last_y=.75*this.dimensions[1],this.lastTime=0,this.animate=this.animate.bind(this),this.buildingSpawn=this.buildingSpawn.bind(this),this.platformSpawn=this.platformSpawn.bind(this),this.background=new class{constructor(t,i){this.context=t,this.scale=i.scale,this.dimensions=i.dimensions,this.game=i,this.objects=new Set,this.spawnStar=this.spawnStar.bind(this),this.starSpawnInterval=setInterval(this.spawnStar,500);for(let t=0;t<100;t++){let t=Math.random()*this.dimensions[0];this.spawnStar(t)}}spawnStar(t,i){t||=this.dimensions[0]+10,i||=Math.random()*this.dimensions[1]/1.5;const e=[-2*Math.random(),0];this.objects.add(new r(this.context,this,[t,i],e))}move(t){this.objects.forEach((i=>i.move(t)))}draw(){this.context.fillStyle="#111133",this.context.fillRect(0,0,...this.dimensions),this.objects.forEach((t=>t.draw()))}}(t.background,this),this.addListeners()}addListeners(){document.getElementById("game").addEventListener("click",(t=>{this.started||this.start()}))}resize(t){this.dimensions=t,this.scale=t[0]/800}move(t){this.objects.forEach((i=>i.move(t))),this.platforms.forEach((i=>i.move(t))),this.background.move(t)}draw(){this.background.draw(),this.gameContext.clearRect(0,0,...this.dimensions),this.objects.forEach((t=>t.draw())),this.platforms.forEach((t=>t.draw())),this.started||(this.gameContext.drawImage(this.logo,.2*this.dimensions[0],0,.6*this.dimensions[0],.6*this.dimensions[1]),this.gameContext.fillStyle=["#ffffff","#e3e3ee","#e3e3eff","#f3f3ff","#ddddee"][Math.floor(5*Math.random())],this.gameContext.font="28px serif",this.gameContext.fillText("Click to Begin",.4*this.dimensions[0],.7*this.dimensions[1],.8*this.dimensions[0]))}animate(t){if(this.gameOver&&this.started)return this.gameOver=!1,this.started=!1,this.objects=new Set,this.platforms=new Set,this.run();const i=t-this.lastTime;this.lastTime=t,this.move(i/60),this.draw(),requestAnimationFrame(this.animate)}async platformSequence(t){const i=t.sequence;for(let t=0;t<i.length&&this.started;t++){const s=i[t],{y:n,width:a,timing:r,velocity:c}=s;if(this.buildingSpawn([800,n+this.last_y],a,c),await h(r),t===i.length-1&&this.started){const t=(e=o)[Math.floor(Math.random()*e.length)];this.platformSequence(t)}}var e}platformSpawn(t,i,e=[-8,0]){this.platforms.add(new s(this.gameContext,this,[...t],i,[...e]))}buildingSpawn(t,i,e=[-8,0]){this.platforms.add(new n(this.gameContext,this,[...t],i,[...e]))}run(){this.spawnerId=setInterval((()=>{this.buildingSpawn([800,this.dimensions[1]*(.5+.4*Math.random())],300)}),4e3),requestAnimationFrame(this.animate)}start(){this.gameOver=!1,this.score=0,this.objects=new Set,this.platforms=new Set,this.last_y=.75*this.dimensions[1],this.started=!0,clearInterval(this.spawnerId),this.spawnerId=void 0,this.buildingSpawn([100,this.last_y],800,[-10,0]),this.player=new a(this.gameContext,this),this.objects.add(this.player),setTimeout(this.platformSequence.bind(this,o[1]),1e3)}}(c,[t.width,t.height]).run()}))})()})();